<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="title" content="Faiz Kautsar - Portfolio" />
    <meta
      name="description"
      content="Faiz Kautsar's portfolio site. A back-end developer, AI researcher, and creative generalist."
    />
    <meta
      name="keywords"
      content="portfolio, portofolio, webdev, web, developer"
    />
    <meta name="language" content="English" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- Scripts -->
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/muuri@0.9.5/dist/muuri.min.js"
      integrity="sha384-pjx/ohA+FGGT1DkH8NeTscW3x2H82LwvD4gfQIvtJ8JY5UjIdU82eel4/J5pCj8D"
      crossorigin="anonymous"
    ></script>
    <script
      type="text/javascript"
      src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"
      integrity="sha384-cMrTlShXEGSdSFA359p+3aVUxK/R+0TAfbRZMcTlAn8yqzxEDj05QsS65nTFMMj4"
      crossorigin="anonymous"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"
      integrity="sha384-fXdIufVbE9aU7STmdk/DWK0imNOozId9fTwzM/gi0NfPjphEIC3gq0M760UnsKVy"
      crossorigin="anonymous"
    ></script>

    <!-- CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
      rel="preload"
      as="style"
      crossorigin="anonymous"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
      rel="stylesheet"
      integrity="sha384-JnI9fsy7u0hXe2CXur8V8MkHfeqi2q7x6KYi4DbEYIjZJuP2Z2eMlp2RbdO7p3zL"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&family=Pixelify+Sans&family=Raleway:wght@200&display=swap"
      rel="preload"
      as="style"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&family=Pixelify+Sans&family=Raleway:wght@200&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./index.css" />

    <title>Faiz Kautsar - Portfolio</title>
  </head>
  <body>
    <nav class="container-fluid" id="navbar">
      <ul></ul>
      <ul>
        <li>
          <div id="ðŸ·ï¸">
            <p style="margin-bottom: 0; font-size: max(2em, 2.5vw)">spuun</p>
          </div>
          <div id="contacts">
            <a href="https://github.com/spuuntries"
              ><img
                src="https://asset.brandfetch.io/idZAyF9rlg/idd6TtF-kc.png"
                alt="github"
            /></a>
            <a href="https://www.linkedin.com/in/faiz-kautsar-6b6222249/"
              ><img
                src="https://asset.brandfetch.io/idJFz6sAsl/idO-lr4BCK.jpeg"
                alt="linkedin"
              />
            </a>
            <a href="https://discordapp.com/users/449941778750111764"
              ><img
                src="https://asset.brandfetch.io/idM8Hlme1a/idHdpdABAN.svg"
                alt="discord"
            /></a>
          </div>
        </li>
      </ul>
      <ul></ul>
    </nav>

    <div class="container">
      <div id="first-section" class="section">
        <div id="biodata" class="section">
          <div id="greet">
            <p id="head" class="greetelem">Hi There!</p>
            <p class="greetelem">I'm Faiz M. Kautsar,</p>
            <p class="greetelem">
              <b><span id="jobdesc"></span></b>
            </p>
          </div>
          <div id="ðŸ“·">
            <img src="./foto.webp" alt="My face, without glasses" />
          </div>
        </div>

        <hr />

        <br />
        <div id="works" class="section">
          <p id="workshead">
            My previous works: <br />
            <span style="opacity: 0.8; font-size: clamp(5px, 5vw, 15px)"
              >Tap or hover to expand them!</span
            >
          </p>
        </div>
      </div>

      <hr />

      <nav>
        <ul></ul>
        <ul>
          <li>
            <p id="footer">
              <b>Powered by</b><br />
              <a
                href="https://picocss.com"
                style="color: whitesmoke"
                aria-label="picocss"
              >
                <svg
                  role="img"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 1000 1000"
                  style="
                    width: var(--footer-width);
                    transition: width 0.25s ease-in-out;
                  "
                >
                  <path
                    fill="currentColor"
                    d="M633.43 429.23c0 118.38-49.76 184.72-138.87 184.72-53 0-92.04-25.37-108.62-67.32h-2.6v203.12H250V249.7h133.67v64.72h2.28c17.24-43.9 55.3-69.92 107-69.92 90.4 0 140.48 66.02 140.48 184.73zm-136.6 0c0-49.76-22.1-81.96-56.9-81.96s-56.9 32.2-57.24 82.28c.33 50.4 22.1 81.63 57.24 81.63 35.12 0 56.9-31.87 56.9-81.95zM682.5 547.5c0-37.32 30.18-67.5 67.5-67.5s67.5 30.18 67.5 67.5S787.32 615 750 615s-67.5-30.18-67.5-67.5z"
                  ></path>
                </svg>
              </a>

              <a
                href="https://github.com/mattboldt/typed.js"
                style="color: whitesmoke"
                aria-label="typed.js"
              >
                <img
                  src="https://raw.githubusercontent.com/mattboldt/typed.js/master/logo-cropped.png"
                  alt="typed.js"
                  style="
                    width: var(--footer-width);
                    transition: width 0.25s ease-in-out;
                    background-color: beige;
                    border-radius: 1em;
                    padding: 3px;
                  "
                />
              </a>

              <a
                href="https://animejs.com"
                style="color: whitesmoke"
                aria-label="animejs"
              >
                <img
                  src="https://animejs.com/documentation/assets/img/anime-mini-logo.svg"
                  alt="animejs"
                  style="
                    width: var(--footer-width);
                    transition: width 0.25s ease-in-out;
                  "
                />
              </a>

              <a
                href="https://expressjs.com"
                style="color: whitesmoke"
                aria-label="expressjs"
              >
                <img
                  src="https://asset.brandfetch.io/idh1lvV1BF/iddg3cqCPj.png"
                  alt="expressjs"
                  style="
                    width: var(--footer-width);
                    transition: width 0.25s ease-in-out;
                  "
                />
              </a>

              <a
                href="https://nodejs.org"
                style="color: whitesmoke"
                aria-label="node.js"
              >
                <img
                  src="https://asset.brandfetch.io/idaYUyxpBn/idCVRRQj_t.svg"
                  alt="node.js"
                  style="
                    width: var(--footer-width);
                    transition: width 0.25s ease-in-out;
                  "
                />
              </a>
            </p>
          </li>
        </ul>
        <ul></ul>
      </nav>
    </div>

    <script>
      function getContrast(hexColor) {
        if (hexColor.indexOf("#") === 0) {
          hexColor = hexColor.slice(1);
        }
        if (hexColor.length === 3) {
          hexColor =
            hexColor[0] +
            hexColor[0] +
            hexColor[1] +
            hexColor[1] +
            hexColor[2] +
            hexColor[2];
        }
        if (hexColor.length !== 6) {
          throw new Error("Invalid HEX color.");
        }
        const r = parseInt(hexColor.slice(0, 2), 16),
          g = parseInt(hexColor.slice(2, 4), 16),
          b = parseInt(hexColor.slice(4, 6), 16);
        // https://stackoverflow.com/a/3943023/112731
        return r * 0.299 + g * 0.587 + b * 0.114 > 186 ? "#000000" : "#FFFFFF";
      }

      function hexToRgb(hex) {
        let r = 0,
          g = 0,
          b = 0;

        // 3 digits
        if (hex.length == 4) {
          r = "0x" + hex[1] + hex[1];
          g = "0x" + hex[2] + hex[2];
          b = "0x" + hex[3] + hex[3];

          // 6 digits
        } else if (hex.length == 7) {
          r = "0x" + hex[1] + hex[2];
          g = "0x" + hex[3] + hex[4];
          b = "0x" + hex[5] + hex[6];
        }

        return "rgba(" + +r + "," + +g + "," + +b + "," + 1 + ")";
      }

      function createWork(title, desc, tech, img, link) {
        let newElement = document.createElement("div");
        newElement.classList.add("worksquare");

        function generateHex() {
          let hexes = [
            "401F3E",
            "40274A",
            "3F2E56",
            "423767",
            "453F78",
            "5D6D92",
            "759AAB",
            "B8C6A6",
            "FAF2A1",
            "A7754D",
            "EAB464",
            "DCCCBB",
            "8D98A7",
            "646E78",
            "5B646D",
            "A09D9A",
          ];
          let bghex =
            "#" +
            hexes[crypto.getRandomValues(new Uint8Array(1))[0] % hexes.length];
          try {
            getContrast(bghex);
          } catch (e) {
            return generateHex();
          }
          return bghex;
        }

        let bghex = generateHex();
        newElement.style.backgroundColor = hexToRgb(bghex);

        newElement.style.padding = "1em";

        let header = document.createElement("h2");
        let image = document.createElement("img");
        let techno = document.createElement("p");
        let caption = document.createElement("p");
        let url = document.createElement("a");

        if (title.split(" ").length > 1) {
          title = title.split(" ").join("<br />");
        }

        let contrastCol = getContrast(bghex);
        header.innerHTML = title;
        techno.innerHTML = "<b>Tech: </b>" + tech;
        caption.textContent = desc;
        image.src = img;
        image.setAttribute("loading", "lazy");
        url.href = link;
        url.innerHTML = "<br /><u>link<u/>";

        header.style.margin = 0;

        header.style.color = contrastCol;
        header.style.display = "inline-block";
        header.style.fontFamily = '"Pixelify Sans", cursive';
        url.style.color = contrastCol;
        techno.style.color = contrastCol;
        caption.style.color = contrastCol;

        caption.className = "wrapped";
        image.className = "workimg";

        newElement.appendChild(image);
        newElement.appendChild(header);
        newElement.appendChild(url);
        newElement.appendChild(techno);
        newElement.appendChild(caption);

        newElement.style.position = "relative";
        newElement.style.zIndex = 0;

        // NOTE - This handles mouseover
        newElement.addEventListener("mouseover", () => {
          newElement.style.zIndex = 1;
          let match = newElement.style.backgroundColor.match(
              /^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/
            ),
            rgba = {
              r: match[1],
              g: match[2],
              b: match[3],
              a: match[4] ? match[4] : 1,
            };

          anime({
            targets: rgba,
            a: 0.6,
            update: function () {
              newElement.style.backgroundColor = `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;
            },
            duration: 100,
            easing: "linear",
          });

          anime({
            targets: newElement,
            scale: 1.5,
            easing: "easeOutElastic(1, 1)",
            duration: "250ms",
          });

          let bloor = { b: 0 };
          anime({
            targets: bloor,
            b: 10,
            update: function () {
              newElement.style.backdropFilter = `blur(${bloor.b}px)`;
            },
            duration: 100,
            easing: "linear",
          });

          caption.className = "";
        });

        // NOTE - This handles mouseleave
        newElement.addEventListener("mouseleave", () => {
          newElement.style.zIndex = 0;
          let match = newElement.style.backgroundColor.match(
              /^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)$/
            ),
            rgba = {
              r: match[1],
              g: match[2],
              b: match[3],
              a: match[4] ? match[4] : 1,
            };

          anime({
            targets: rgba,
            a: 1,
            update: function () {
              newElement.style.backgroundColor = `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;
            },
            duration: 100,
            easing: "linear",
          });

          let bloor = { b: 10 };
          anime({
            targets: bloor,
            b: 0,
            update: function () {
              newElement.style.backdropFilter = `blur(${bloor.b}px)`;
            },
            duration: 100,
            easing: "linear",
          });

          anime({
            targets: newElement,
            scale: 1,
            easing: "easeOutElastic(1, 1)",
            duration: "250ms",
          });

          caption.className = "wrapped";
        });

        return newElement;
      }

      const tag = document.getElementById("ðŸ·ï¸");
      tag.addEventListener("mouseenter", () => {
        anime({
          targets: tag,
          scale: 1.25,
        });
      });

      tag.addEventListener("mouseleave", () => {
        anime({ targets: tag, scale: 1, translateX: 1 });
      });
      let trackDone = true;

      document.addEventListener("DOMContentLoaded", () => {
        function startTyping() {
          new Typed("#jobdesc", {
            strings: [
              "A Back-end<br/>Developer",
              "An AI Researcher",
              "A Creative<br/>Generalist",
            ],
            typeSpeed: 25,
            loop: true,
            onLastStringBackspaced: async () => {
              if (trackDone) {
                trackDone = false;
                document
                  .getElementById("works")
                  .setAttribute("aria-busy", "true");
                const resArr = (
                  await (
                    await fetch(`${window.location.origin}/projects`)
                  ).json()
                )["projects"];

                console.log(resArr);

                anime({ targets: "#workshead", opacity: [0, 1] });
                document.getElementById("works").removeAttribute("aria-busy");
                try {
                  document
                    .getElementById("works")
                    .scrollIntoView({ behavior: "smooth" });
                } catch (e) {
                  console.log("Scroll failed :C");
                }

                resArr.forEach((w) => {
                  document
                    .getElementById("works")
                    .appendChild(
                      createWork(
                        w.header,
                        w.caption,
                        w.tech.filter((s) => s.length).join(", "),
                        `${window.location.origin}${w.img}`,
                        w.url
                      )
                    );
                });
                anime({
                  targets: ".worksquare",
                  opacity: [0, 1],
                  translateX: [-100, 1],
                  delay: anime.stagger(250),
                  easing: "easeOutElastic(1, 1)",
                });
              }
            },
          });
        }

        anime({
          targets: "#ðŸ“·",
          opacity: [0, 1],
          translateX: [100, 1],
          easing: "easeOutElastic(1, .6)",
          complete: () => {
            anime({
              targets: ".greetelem",
              opacity: [0, 1],
              translateX: ["100%", "0"],
              easing: "easeOutElastic(1, 1)",
              delay: anime.stagger(100),
              complete: () => {
                startTyping();
              },
            });
          },
        });
      });
    </script>
  </body>
</html>
